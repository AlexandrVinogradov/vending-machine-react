(this["webpackJsonpvending-machine"]=this["webpackJsonpvending-machine"]||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),s=a.n(c),o=(a(14),a(1)),u=a(2),l=a(4),i=a(3),d=a(5),p=(a(15),function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"product-list__item"},r.a.createElement("div",{className:"product"},r.a.createElement("span",{className:"product__name"},e.name),r.a.createElement("span",{className:"product__desc"},e.desc),r.a.createElement("span",{className:"product__prise"},e.price+" R"),r.a.createElement("span",{className:"product__name"},e.id))))}),m=function(e){var t=e.products.map((function(e){return r.a.createElement(p,{id:e.id,key:e.id,name:e.name,price:e.price,desc:e.desc})}));return r.a.createElement("div",{className:"interface"},r.a.createElement("div",{className:"inteface__goods"},r.a.createElement("ul",{className:"product-list"},t)))},h=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={legalPayload:[50,100,200,500,1e3],balanceInputValue:0,isRichest:!1,errorMessageUnknowBanknote:"",isError:!1},a.handleBalanceEnterClick=function(e){if(e.preventDefault(),a.state.legalPayload.includes(parseInt(a.state.balanceInputValue))){var t=parseInt(a.state.balanceInputValue)+parseInt(a.props.balance);a.setState({isRichest:a.props.products.every((function(e){return e.price<=parseInt(a.props.balance)+parseInt(a.state.balanceInputValue)})),errorMessageUnknowBanknote:""},(function(){a.props.setValuesOfInsertBanknoteForm(t,a.state.isRichest)}))}else a.setState({isError:!0,errorMessageUnknowBanknote:"Unknow Banknote"})},a.balanceInputValue=function(e){a.setState({balanceInputValue:parseInt(e.currentTarget.value)})},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e;return e=this.state.errorMessageUnknowBanknote?this.state.errorMessageUnknowBanknote:0===this.props.balance?"Insert banknotes...":this.state.isRichest?"Inserted money: ".concat(this.props.balance+" R Enough for any snacks"):"Inserted money: ".concat(this.props.balance+" R"),r.a.createElement("form",{onSubmit:this.handleBalanceEnterClick,className:"form"},r.a.createElement("div",{className:"dialog-board"},r.a.createElement("span",null,e)),r.a.createElement("input",{ref:this.props.balanceInputValueRef,onInput:this.balanceInputValue,disabled:this.props.isRichest||this.props.selectedProduct}),r.a.createElement("p",{className:"form__desc"},"Available banknotes: 50, 100, 200, 500 or 1000 R. The machine gives change in 1, 2, 5 and 10 R coins."))}}]),t}(r.a.Component),f=a(8),b=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={selectedProduct:0,errorMessageIncorrect:"",coins:[],change:0,isError:!1,productInputValue:0,mycoins:[]},a.handleProductEnterClick=function(e){e.preventDefault(),a.props.products.some((function(e){return e.id===a.state.productInputValue}))&&a.props.balance>=a.props.products.find((function(e){return e.id===a.state.productInputValue})).price?a.setState({selectedProduct:parseInt(a.state.productInputValue),errorMessageIncorrect:"",coins:a.state.mycoins,change:parseInt(a.props.balance)-a.props.products.find((function(e){return e.id===a.state.productInputValue})).price,isError:!1,productInputValue:0},(function(){a.props.setValuesOfChooseProductForm(a.state.selectedProduct,a.state.coins,a.state.change)})):a.props.products.some((function(e){return e.id===a.state.productInputValue}))&&a.props.balance<a.props.products.find((function(e){return e.id===a.state.productInputValue})).price?a.setState({isError:!0,errorMessageIncorrect:"Not enought money"}):a.setState({isError:!0,errorMessageIncorrect:"Enter correct number"})},a.productInputValue=function(e){a.setState({productInputValue:parseInt(e.currentTarget.value)},(function(){if(a.props.products.some((function(e){return e.id===a.state.productInputValue}))){for(var e=parseInt(a.props.balance)-a.props.products.find((function(e){return e.id===a.state.productInputValue})).price,t=[],n=[10,5,2,1],r=0,c=0;r<e;){var s=Math.floor((e-r)/n[c]);t.push(Object(f.a)({},n[c],s)),r+=n[c]*s,c++}a.setState({mycoins:t})}}))},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e;return e=this.props.errorMessageIncorrect?this.props.errorMessageIncorrect:0===this.props.balance?">":this.state.isError?this.state.errorMessageIncorrect:this.props.selectedProduct?"Success":"Choose product",r.a.createElement("form",{onSubmit:this.handleProductEnterClick},r.a.createElement("div",{className:"dialog-board"},r.a.createElement("span",null,e)),r.a.createElement("input",{onInput:this.productInputValue,ref:this.props.productInputValueRef,disabled:this.props.selectedProduct||0===this.props.balance}))}}]),t}(r.a.Component),E=function(e){return r.a.createElement(r.a.Fragment,null,e.coins10?r.a.createElement("div",null,"10 R: ",e.coins10," coins"):null,e.coins5?r.a.createElement("div",null,"5 R: ",e.coins5," coins"):null,e.coins2?r.a.createElement("div",null,"2 R: ",e.coins2," coins"):null,e.coins1?r.a.createElement("div",null,"1 R: ",e.coins1," coins"):null)},I=function(e){var t=e.coins.map((function(e){return r.a.createElement(E,{key:e.index,coins10:e[10],coins5:e[5],coins2:e[2],coins1:e[1]})}));return r.a.createElement("div",null,r.a.createElement("div",{className:"dialog-board"},r.a.createElement("span",null,e.selectedProduct?"Take your product and change":">")),r.a.createElement("div",{className:"conclusion"},r.a.createElement("div",{className:"product"},t,!e.change&&e.selectedProduct?r.a.createElement("div",null,"No change"):null),r.a.createElement("div",{className:"product result",onClick:e.takeProduct},r.a.createElement("span",null,e.selectedProduct?e.foundSelectedProduct.name:null),r.a.createElement("span",null,e.selectedProduct?e.foundSelectedProduct.desc:null),r.a.createElement("span",null,e.selectedProduct?e.foundSelectedProduct.price:null),r.a.createElement("span",null,e.selectedProduct?e.foundSelectedProduct.id:null))))},v=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(i.a)(t).call(this,e))).state={products:[{name:"Oreo",price:80,desc:"Cookie",id:1},{name:"Milka",price:140,desc:"Chocolate",id:2},{name:"M&M",price:200,desc:"Candy",id:3},{name:"Twix",price:91,desc:"Choco bar",id:4},{name:"Mentos",price:50,desc:"Chewing pills",id:5},{name:"Mountain dew",price:170,desc:"Cold drink",id:6}],change:0,balance:0,selectedProduct:0,coins:[],isRichest:0},a.setValuesOfInsertBanknoteForm=function(e,t){a.setState({balance:e,isRichest:t})},a.setValuesOfChooseProductForm=function(e,t,n){a.setState({selectedProduct:e,coins:t,change:n})},a.takeProduct=function(){a.productInputValueRef.current.value="",a.balanceInputValueRef.current.value="",a.setState({change:0,balance:0,selectedProduct:0,coins:[],isRichest:0})},a.productInputValueRef=r.a.createRef(),a.balanceInputValueRef=r.a.createRef(),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state.products.find((function(t){return t.id===e.state.selectedProduct}));return r.a.createElement("div",{className:"interface"},r.a.createElement(m,{products:this.state.products}),r.a.createElement("div",{className:"interface__control-panel"},r.a.createElement(h,{selectedProduct:this.state.selectedProduct,balanceInputValueRef:this.balanceInputValueRef,products:this.state.products,setValuesOfInsertBanknoteForm:this.setValuesOfInsertBanknoteForm,balance:this.state.balance,isRichest:this.state.isRichest}),r.a.createElement(b,{selectedProduct:this.state.selectedProduct,balance:this.state.balance,productInputValueRef:this.productInputValueRef,products:this.state.products,setValuesOfChooseProductForm:this.setValuesOfChooseProductForm}),r.a.createElement(I,{selectedProduct:this.state.selectedProduct,change:this.state.change,takeProduct:this.takeProduct,foundSelectedProduct:t,coins:this.state.coins})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,t,a){e.exports=a(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.360f152e.chunk.js.map