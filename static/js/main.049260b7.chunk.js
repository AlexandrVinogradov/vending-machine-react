(this["webpackJsonpvending-machine"]=this["webpackJsonpvending-machine"]||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(2),s=a.n(r),l=(a(14),a(3)),o=a(4),u=a(5),i=a(7),d=a(6),p=a(8),m=(a(15),function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{className:"product-list__item"},c.a.createElement("div",{className:"product"},c.a.createElement("span",{className:"product__name"},e.name),c.a.createElement("span",{className:"product__desc"},e.desc),c.a.createElement("span",{className:"product__prise"},e.price+" R"),c.a.createElement("span",{className:"product__name"},e.id))))}),h=function(e){var t=e.products.map((function(e){return c.a.createElement(m,{id:e.id,key:e.id,name:e.name,price:e.price,desc:e.desc})}));return c.a.createElement("div",{className:"interface"},c.a.createElement("div",{className:"inteface__goods"},c.a.createElement("ul",{className:"product-list"},t)))},f=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{onSubmit:e.handleBalanceEnterClick,className:"form"},c.a.createElement("div",{className:"dialog-board"},c.a.createElement("span",null,e.errorMessageUnknowBancnote?e.errorMessageUnknowBancnote:0===e.balance?"Insert banknotes...":e.isRichest?"Inserted money: ".concat(e.balance+" R Enough for any snacks"):"Inserted money: ".concat(e.balance+" R"))),c.a.createElement("input",{ref:e.balanceInputValueRef,onInput:e.balanceInputValue,disabled:e.isRichest||e.selectedProduct}),c.a.createElement("p",{className:"form__desc"},"Available banknotes: 50, 100, 200, 500 or 1000 R. The machine gives change in 1, 2, 5 and 10 R coins.")))},E=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{onSubmit:e.handleProductEnterClick},c.a.createElement("div",{className:"dialog-board"},c.a.createElement("span",null,e.errorMessageIncorrect?e.errorMessageIncorrect:0===e.balance?">":e.selectedProduct?"Success":"Choose product")),c.a.createElement("input",{onInput:e.productInputValue,ref:e.productInputValueRef,disabled:e.selectedProduct||0===e.balance})))},I=function(e){return c.a.createElement(c.a.Fragment,null,e.coins10?c.a.createElement("div",null,"10 R: ",e.coins10," coins"):null,e.coins5?c.a.createElement("div",null,"5 R: ",e.coins5," coins"):null,e.coins2?c.a.createElement("div",null,"2 R: ",e.coins2," coins"):null,e.coins1?c.a.createElement("div",null,"1 R: ",e.coins1," coins"):null)},b=function(e){var t=e.coins.map((function(e){return c.a.createElement(I,{key:e.index,coins10:e[10],coins5:e[5],coins2:e[2],coins1:e[1]})}));return c.a.createElement("div",null,c.a.createElement("div",{className:"dialog-board"},c.a.createElement("span",null,e.selectedProduct?"Take your product and change":">")),c.a.createElement("div",{className:"conclusion"},c.a.createElement("div",{className:"product"},t,!e.change&&e.selectedProduct?c.a.createElement("div",null,"No change"):null),c.a.createElement("div",{className:"product result",onClick:e.takeProduct},c.a.createElement("span",null,e.selectedProduct?e.foundSelectedProduct.name:null),c.a.createElement("span",null,e.selectedProduct?e.foundSelectedProduct.desc:null),c.a.createElement("span",null,e.selectedProduct?e.foundSelectedProduct.price:null),c.a.createElement("span",null,e.selectedProduct?e.foundSelectedProduct.id:null))))},g=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).state={products:[{name:"Oreo",price:80,desc:"Cookie",id:1},{name:"Milka",price:140,desc:"Chocolate",id:2},{name:"M&M",price:200,desc:"Candy",id:3},{name:"Twix",price:91,desc:"Choco bar",id:4},{name:"Mentos",price:50,desc:"Chewing pills",id:5},{name:"Mountain dew",price:170,desc:"Cold drink",id:6}],change:0,balance:0,selectedProduct:0,productInputValue:0,balanceInputValue:0,isRichest:!1,legalPayload:[50,100,200,500,1e3],errorMessageUnknowBancnote:"",errorMessageIncorrect:"",isError:!1,coins:[]},a.handleBalanceEnterClick=function(e){e.preventDefault(),a.state.legalPayload.includes(parseInt(a.state.balanceInputValue))?a.setState({balance:parseInt(a.state.balanceInputValue)+parseInt(a.state.balance),isRichest:a.state.products.every((function(e){return e.price<=parseInt(a.state.balance)+parseInt(a.state.balanceInputValue)})),errorMessageUnknowBancnote:""}):a.setState({isError:!0,errorMessageUnknowBancnote:"Unknow bancnote"})},a.balanceInputValue=function(e){a.setState({balanceInputValue:parseInt(e.currentTarget.value)})},a.handleProductEnterClick=function(e){e.preventDefault();for(var t=parseInt(a.state.balance)-a.state.products.find((function(e){return e.id===a.state.productInputValue})).price,n=[],c=[10,5,2,1],r=0,s=0;r<t;){var o=Math.floor((t-r)/c[s]);n.push(Object(l.a)({},c[s],o)),r+=c[s]*o,s++}a.state.products.some((function(e){return e.id===a.state.productInputValue}))&&a.state.balance>=a.state.products.find((function(e){return e.id===a.state.productInputValue})).price?a.setState({selectedProduct:parseInt(a.state.productInputValue),errorMessageIncorrect:"",coins:n,change:parseInt(a.state.balance)-a.state.products.find((function(e){return e.id===a.state.productInputValue})).price}):a.state.products.some((function(e){return e.id===a.state.productInputValue}))&&a.state.balance<a.state.products.find((function(e){return e.id===a.state.productInputValue})).price?a.setState({isError:!0,errorMessageIncorrect:"Not enought money"}):a.setState({isError:!0,errorMessageIncorrect:"Enter correct number"})},a.productInputValue=function(e){a.setState({productInputValue:parseInt(e.currentTarget.value)})},a.takeProduct=function(){a.productInputValueRef.current.value="",a.balanceInputValueRef.current.value="",a.setState({change:0,balance:0,selectedProduct:0,productInputValue:0,balanceInputValue:0,isRichest:!1,errorMessageUnknowBancnote:"",errorMessageIncorrect:"",isError:!1,coins:[]})},a.productInputValueRef=c.a.createRef(),a.balanceInputValueRef=c.a.createRef(),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state.products.find((function(t){return t.id===e.state.selectedProduct}));return c.a.createElement("div",{className:"interface"},c.a.createElement(h,{products:this.state.products}),c.a.createElement("div",{className:"interface__control-panel"},c.a.createElement(f,{handleBalanceEnterClick:this.handleBalanceEnterClick,errorMessageUnknowBancnote:this.state.errorMessageUnknowBancnote,balance:this.state.balance,balanceInputValue:this.balanceInputValue,isRichest:this.state.isRichest,selectedProduct:this.state.selectedProduct,balanceInputValueRef:this.balanceInputValueRef}),c.a.createElement(E,{handleProductEnterClick:this.handleProductEnterClick,errorMessageIncorrect:this.state.errorMessageIncorrect,balance:this.state.balance,selectedProduct:this.state.selectedProduct,productInputValue:this.productInputValue,productInputValueRef:this.productInputValueRef}),c.a.createElement(b,{selectedProduct:this.state.selectedProduct,change:this.state.change,takeProduct:this.takeProduct,foundSelectedProduct:t,coins:this.state.coins})))}}]),t}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,t,a){e.exports=a(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.049260b7.chunk.js.map